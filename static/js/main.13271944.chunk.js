(this["webpackJsonpreact-snake"]=this["webpackJsonpreact-snake"]||[]).push([[0],{13:function(t,e,s){},15:function(t,e,s){"use strict";s.r(e);var i=s(1),a=s.n(i),o=s(4),h=s.n(o),n=(s(13),s(0)),c=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("header",{className:"header",children:Object(n.jsx)("h1",{children:"Snake"})})})},r=s(5),l=s(6),d=s(2),p=s(8),m=s(7);var g=function(t){return Object(n.jsx)("div",{id:"GameBoard",style:{width:t.width,height:t.height,borderWidth:t.width/50},children:Object(n.jsxs)("div",{id:"GameOver",style:{fontSize:t.width/15},children:[Object(n.jsx)("div",{id:"GameOverText",children:"GAME OVER"}),Object(n.jsxs)("div",{children:["Your score: ",t.score]}),Object(n.jsxs)("div",{children:[t.newHighScore?"New local ":"Local ","High Score:"," "," ",t.highScore]}),Object(n.jsx)("div",{id:"PressSpaceText",children:"Press Space to restart"})]})})},u=function(t){Object(p.a)(s,t);var e=Object(m.a)(s);function s(t){var i;return Object(r.a)(this,s),(i=e.call(this,t)).handleKeyDown=i.handleKeyDown.bind(Object(d.a)(i)),i.state={width:0,height:0,blockWidth:0,blockHeight:0,gameLoopTimeout:50,timeoutId:0,startSnakeSize:0,snake:[],apple:{},direction:"right",directionChanged:!1,isGameOver:!1,snakeColor:i.props.snakeColor||i.getRandomColor(),appleColor:i.props.appleColor||i.getRandomColor(),score:0,highScore:Number(localStorage.getItem("snakeHighScore"))||0,newHighScore:!1},i}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.initGame(),window.addEventListener("keydown",this.handleKeyDown),this.gameLoop()}},{key:"initGame",value:function(){var t=this.props.percentageWidth||40,e=document.getElementById("GameBoard").parentElement.offsetWidth*(t/100);(e-=e%30)<30&&(e=30);var s=e/3*2,i=e/30,a=s/20,o=this.props.startSnakeSize||6,h=[],n=e/2,c=s/2,r={Xpos:e/2,Ypos:s/2};h.push(r);for(var l=1;l<o;l++){var d={Xpos:n-=i,Ypos:c};h.push(d)}for(var p=Math.floor(Math.random()*((e-i)/i+1))*i,m=Math.floor(Math.random()*((s-a)/a+1))*a;m===h[0].Ypos;)m=Math.floor(Math.random()*((s-a)/a+1))*a;this.setState({width:e,height:s,blockWidth:i,blockHeight:a,startSnakeSize:o,snake:h,apple:{Xpos:p,Ypos:m}})}},{key:"gameLoop",value:function(){var t=this,e=setTimeout((function(){t.state.isGameOver||(t.moveSnake(),t.tryToEatSnake(),t.tryToEatApple(),t.setState({directionChanged:!1})),t.gameLoop()}),this.state.gameLoopTimeout);this.setState({timeoutId:e})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timeoutId),window.removeEventListener("keydown",this.handleKeyDown)}},{key:"resetGame",value:function(){var t=this.state.width,e=this.state.height,s=this.state.blockWidth,i=this.state.blockHeight,a=this.state.apple,o=[],h=t/2,n=e/2,c={Xpos:t/2,Ypos:e/2};o.push(c);for(var r=1;r<this.state.startSnakeSize;r++){var l={Xpos:h-=s,Ypos:n};o.push(l)}for(a.Xpos=Math.floor(Math.random()*((t-s)/s+1))*s,a.Ypos=Math.floor(Math.random()*((e-i)/i+1))*i;this.isAppleOnSnake(a.Xpos,a.Ypos);)a.Xpos=Math.floor(Math.random()*((t-s)/s+1))*s,a.Ypos=Math.floor(Math.random()*((e-i)/i+1))*i;this.setState({snake:o,apple:a,direction:"right",directionChanged:!1,isGameOver:!1,gameLoopTimeout:50,snakeColor:this.getRandomColor(),appleColor:this.getRandomColor(),score:0,newHighScore:!1})}},{key:"getRandomColor",value:function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}},{key:"moveSnake",value:function(){var t=this.state.snake,e=this.state.snake[0].Xpos,s=this.state.snake[0].Ypos,i=e,a=s;this.moveHead();for(var o=1;o<t.length;o++)i=t[o].Xpos,a=t[o].Ypos,t[o].Xpos=e,t[o].Ypos=s,e=i,s=a;this.setState({snake:t})}},{key:"tryToEatApple",value:function(){var t=this.state.snake,e=this.state.apple;if(t[0].Xpos===e.Xpos&&t[0].Ypos===e.Ypos){var s=this.state.width,i=this.state.height,a=this.state.blockWidth,o=this.state.blockHeight,h={Xpos:e.Xpos,Ypos:e.Ypos},n=this.state.highScore,c=this.state.newHighScore,r=this.state.gameLoopTimeout;for(t.push(h),e.Xpos=Math.floor(Math.random()*((s-a)/a+1))*a,e.Ypos=Math.floor(Math.random()*((i-o)/o+1))*o;this.isAppleOnSnake(e.Xpos,e.Ypos);)e.Xpos=Math.floor(Math.random()*((s-a)/a+1))*a,e.Ypos=Math.floor(Math.random()*((i-o)/o+1))*o;this.state.score===n&&(n++,localStorage.setItem("snakeHighScore",n),c=!0),r>25&&(r-=.5),this.setState({snake:t,apple:e,score:this.state.score+1,highScore:n,newHighScore:c,gameLoopTimeout:r})}}},{key:"tryToEatSnake",value:function(){for(var t=this.state.snake,e=1;e<t.length;e++)t[0].Xpos===t[e].Xpos&&t[0].Ypos===t[e].Ypos&&this.setState({isGameOver:!0})}},{key:"isAppleOnSnake",value:function(t,e){for(var s=this.state.snake,i=0;i<s.length;i++)if(t===s[i].Xpos&&e===s[i].Ypos)return!0;return!1}},{key:"moveHead",value:function(){switch(this.state.direction){case"left":this.moveHeadLeft();break;case"up":this.moveHeadUp();break;case"right":this.moveHeadRight();break;default:this.moveHeadDown()}}},{key:"moveHeadLeft",value:function(){var t=this.state.width,e=this.state.blockWidth,s=this.state.snake;s[0].Xpos=s[0].Xpos<=0?t-e:s[0].Xpos-e,this.setState({snake:s})}},{key:"moveHeadUp",value:function(){var t=this.state.height,e=this.state.blockHeight,s=this.state.snake;s[0].Ypos=s[0].Ypos<=0?t-e:s[0].Ypos-e,this.setState({snake:s})}},{key:"moveHeadRight",value:function(){var t=this.state.width,e=this.state.blockWidth,s=this.state.snake;s[0].Xpos=s[0].Xpos>=t-e?0:s[0].Xpos+e,this.setState({snake:s})}},{key:"moveHeadDown",value:function(){var t=this.state.height,e=this.state.blockHeight,s=this.state.snake;s[0].Ypos=s[0].Ypos>=t-e?0:s[0].Ypos+e,this.setState({snake:s})}},{key:"handleKeyDown",value:function(t){if(this.state.isGameOver&&32===t.keyCode)this.resetGame();else if(!this.state.directionChanged){switch(t.keyCode){case 37:case 65:this.goLeft();break;case 38:case 87:this.goUp();break;case 39:case 68:this.goRight();break;case 40:case 83:this.goDown()}this.setState({directionChanged:!0})}}},{key:"goLeft",value:function(){var t="right"===this.state.direction?"right":"left";this.setState({direction:t})}},{key:"goUp",value:function(){var t="down"===this.state.direction?"down":"up";this.setState({direction:t})}},{key:"goRight",value:function(){var t="left"===this.state.direction?"left":"right";this.setState({direction:t})}},{key:"goDown",value:function(){var t="up"===this.state.direction?"up":"down";this.setState({direction:t})}},{key:"render",value:function(){var t=this;return this.state.isGameOver?Object(n.jsx)(g,{width:this.state.width,height:this.state.height,highScore:this.state.highScore,newHighScore:this.state.newHighScore,score:this.state.score}):Object(n.jsxs)("div",{id:"GameBoard",style:{width:this.state.width,height:this.state.height,borderWidth:this.state.width/50},children:[this.state.snake.map((function(e,s){return Object(n.jsx)("div",{className:"Block",style:{width:t.state.blockWidth,height:t.state.blockHeight,left:e.Xpos,top:e.Ypos,background:t.state.snakeColor}},s)})),Object(n.jsx)("div",{className:"Block",style:{width:this.state.blockWidth,height:this.state.blockHeight,left:this.state.apple.Xpos,top:this.state.apple.Ypos,background:this.state.appleColor}}),Object(n.jsxs)("div",{id:"Score",style:{fontSize:this.state.width/20},children:["HIGH-SCORE: ",this.state.highScore,"\u2002\u2002\u2002\u2002SCORE:"," ",this.state.score]})]})}}]),s}(a.a.Component),j=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("footer",{children:[Object(n.jsxs)("div",{className:"social",children:[Object(n.jsx)("a",{href:"https://www.linkedin.com/in/nicholas-gacicia/",children:Object(n.jsx)("i",{className:"icon ion-social-linkedin"})}),Object(n.jsx)("a",{href:"https://github.com/nicholasgacicia",children:Object(n.jsx)("i",{className:"icon ion-social-github"})}),Object(n.jsx)("a",{href:"https://twitter.com/NicholasGacicia",children:Object(n.jsx)("i",{className:"icon ion-social-twitter"})}),Object(n.jsx)("a",{href:"https://www.facebook.com/NicholasGacicia/",children:Object(n.jsx)("i",{className:"icon ion-social-facebook"})}),Object(n.jsx)("a",{href:"https://www.instagram.com/nicholasgacicia/",children:Object(n.jsx)("i",{className:"icon ion-social-instagram"})})]}),Object(n.jsxs)("ul",{className:"list-inline",children:[Object(n.jsx)("li",{className:"list-inline-item",children:Object(n.jsx)("a",{href:"https://www.nicholasgacicia.com/#home",children:"Home"})}),Object(n.jsx)("li",{className:"list-inline-item",children:Object(n.jsx)("a",{href:"https://www.nicholasgacicia.com/#about",children:"About"})}),Object(n.jsx)("li",{className:"list-inline-item",children:Object(n.jsx)("a",{href:"https://www.nicholasgacicia.com/#services",children:"Services"})}),Object(n.jsx)("li",{className:"list-inline-item",children:Object(n.jsx)("a",{href:"https://www.nicholasgacicia.com/#portfolio",children:"Portfolio"})}),Object(n.jsx)("li",{className:"list-inline-item",children:Object(n.jsx)("a",{href:"https://www.nicholasgacicia.com/#contact",children:"Contact"})})]}),Object(n.jsx)("p",{className:"copyright",children:"Nicholas Gacicia \xa9 2021, All Right Reserved"})]})})};var k=function(t){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(c,{}),Object(n.jsx)("main",{children:Object(n.jsx)(u,{})}),Object(n.jsx)(j,{})]})};h.a.render(Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(k,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.13271944.chunk.js.map